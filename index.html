
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Bubble Cloud Clock</title>
    <!-- Importing a bubbly, rounded font -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap" rel="stylesheet">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <!-- Custom App Icons -->
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    <style>
        :root {
            --text-color: #ffffff;
            /* Glassmorphism/Cloudy effect values */
            --cloud-bg: rgba(255, 255, 255, 0.15);
            --cloud-blur: 15px;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: 'Fredoka', sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: none;
            /* Animated Gradient Background */
            background-color: #000000;
            background-image: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #clock-container {
            position: relative;
            transition: transform 2s ease-in-out;
            text-align: center;
            z-index: 10;
            padding: 8vmin 10vmin;
            width: 90vw;
            box-sizing: border-box;
            font-variant-numeric: tabular-nums;
            font-feature-settings: "tnum";
            /* Cloudy / Glassmorphism Box */
            background: var(--cloud-bg);
            backdrop-filter: blur(var(--cloud-blur));
            -webkit-backdrop-filter: blur(var(--cloud-blur));
            border-radius: 80px; /* Bubbly rounded corners */
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
            cursor: pointer;
        }

        #time-wrapper {
            display: flex;
            align-items: baseline;
            justify-content: center;
            color: #ffffff;
        }

        #time {
            font-size: 30vmin;
            line-height: 0.9;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 10px 20px rgba(0,0,0,0.15);
            font-variant-numeric: tabular-nums;
            font-feature-settings: "tnum";
        }

        #seconds {
            font-size: 8vmin;
            margin-left: 15px;
            font-weight: 400;
            color: #ffffff;
            font-variant-numeric: tabular-nums;
            font-feature-settings: "tnum";
            width: 2ch;
            text-align: left;
        }

        #ampm {
            font-size: 8vmin;
            margin-left: 15px;
            font-weight: 400;
            color: #ffffff;
            font-variant-numeric: tabular-nums;
            font-feature-settings: "tnum";
        }

        #date {
            font-size: 5vmin;
            font-weight: 500;
            margin-top: 5px;
            text-transform: capitalize;
            letter-spacing: 1px;
            color: #ffffff;
            text-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        /* Shower Timer Styling */
        #stopwatch-wrapper {
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        #stopwatch-label {
            font-size: 3vmin;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 5px;
            opacity: 0.9;
        }

        #stopwatch {
            font-size: 7vmin;
            font-weight: 700;
            color: #ffffff;
            font-variant-numeric: tabular-nums;
            font-feature-settings: "tnum";
        }

        #stopwatch-row {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #reset-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.6);
            padding: 0 0 0 10px;
            display: flex;
            align-items: center;
            transition: color 0.2s;
        }
        #reset-btn:hover { color: #ffffff; }
        #reset-btn svg { width: 5vmin; height: 5vmin; fill: currentColor; }

        #myhyundai-btn {
            position: absolute;
            bottom: 35px;
            right: 35px;
            color: rgba(255, 255, 255, 0.3);
            transition: color 0.2s, transform 0.2s;
            display: flex;
            text-decoration: none;
        }
        #myhyundai-btn:hover {
            color: #ffffff;
            transform: scale(1.1);
        }
        #myhyundai-btn svg { width: 6vmin; height: 6vmin; fill: currentColor; }

        /* Landscape Mode: Bigger text, optimized spacing */
        @media (orientation: landscape) {
            #clock-container { padding: 4vmin 10vmin; }
            #time { font-size: 40vmin; }
            #seconds { font-size: 12vmin; }
            #ampm { font-size: 12vmin; }
            #date { font-size: 7vmin; }
            #stopwatch-label { font-size: 4vmin; }
            #stopwatch { font-size: 10vmin; }
            #reset-btn svg { width: 7vmin; height: 7vmin; }
            #myhyundai-btn { bottom: 20px; right: 20px; }
        }

        /* Hover/Tap bounce effect */
        #clock-container:active {
            transform: scale(0.95);
            transition: 0.2s;
        }

    </style>
</head>
<body>

    <div id="clock-container">
        <div id="time-wrapper">
            <div id="time">00:00</div>
            <div id="seconds">00</div>
            <div id="ampm">AM</div>
        </div>
        <div id="date">Monday, Jan 01</div>

        <!-- Stopwatch for Shower Timing -->
        <div id="stopwatch-wrapper">
            <div id="stopwatch-label">Session Time</div>
            <div id="stopwatch-row">
                <div id="stopwatch">00:00</div>
                <button id="reset-btn" aria-label="Reset Timer">
                    <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                </button>
            </div>
        </div>

        <a id="myhyundai-btn" href="https://owners.hyundaiusa.com/" aria-label="Open MyHyundai App">
            <svg viewBox="0 0 24 24"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/></svg>
        </a>
    </div>

    <script>
        // Record the time the app was opened
        let sessionStartTime = Date.now();
        let is24Hour = false;

        function updateClock() {
            const now = new Date();
            
            // --- Main Clock Logic ---
            let h = now.getHours();
            let m = now.getMinutes();
            let s = now.getSeconds();
            
            let ampm = '';
            if (!is24Hour) {
                ampm = h >= 12 ? 'PM' : 'AM';
                h = h % 12 || 12;
                document.getElementById('ampm').style.display = 'block';
            } else {
                h = h < 10 ? '0' + h : h;
                document.getElementById('ampm').style.display = 'none';
            }

            m = m < 10 ? '0' + m : m;
            s = s < 10 ? '0' + s : s;
            
            document.getElementById('time').textContent = `${h}:${m}`;
            document.getElementById('seconds').textContent = s;
            document.getElementById('ampm').textContent = ampm;

            const options = { weekday: 'long', month: 'short', day: 'numeric' };
            document.getElementById('date').textContent = now.toLocaleDateString('en-US', options);

            // --- Stopwatch / Shower Timer Logic ---
            const elapsedMs = Date.now() - sessionStartTime;
            const totalSeconds = Math.floor(elapsedMs / 1000);
            
            const stopM = Math.floor(totalSeconds / 60);
            const stopS = totalSeconds % 60;
            
            const displayM = stopM < 10 ? '0' + stopM : stopM;
            const displayS = stopS < 10 ? '0' + stopS : stopS;
            
            document.getElementById('stopwatch').textContent = `${displayM}:${displayS}`;
        }

        // Burn-in protection: slightly shifts the container every 60 seconds
        function protectScreen() {
            const container = document.getElementById('clock-container');
            const randomX = Math.floor(Math.random() * 30) - 15; 
            const randomY = Math.floor(Math.random() * 30) - 15;
            container.style.transform = `translate(${randomX}px, ${randomY}px)`;
        }

        // Toggle 12/24h on container click
        document.getElementById('clock-container').addEventListener('click', () => {
            is24Hour = !is24Hour;
            updateClock();
        });

        // Reset timer button
        document.getElementById('reset-btn').addEventListener('click', (e) => {
            e.stopPropagation(); // Prevent toggling time format
            sessionStartTime = Date.now();
            updateClock();
        });

        // Prevent Bluelink button from toggling time format
        document.getElementById('myhyundai-btn').addEventListener('click', (e) => {
            e.stopPropagation();
        });

        setInterval(updateClock, 1000);
        setInterval(protectScreen, 60000); 
        updateClock();
        protectScreen();
    </script>
</body>
</html>
