
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bubble Cloud Clock</title>
    <!-- Importing a bubbly, rounded font -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap" rel="stylesheet">
    <!-- Custom App Icons -->
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    <style>
        :root {
            --text-color: #ffffff;
            /* Glassmorphism/Cloudy effect values */
            --cloud-bg: rgba(255, 255, 255, 0.15);
            --cloud-blur: 15px;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: 'Fredoka', sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: none;
            /* Animated Gradient Background */
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #clock-container {
            position: relative;
            transition: transform 2s ease-in-out;
            text-align: center;
            z-index: 10;
            padding: 40px 60px;
            width: 90vw;
            box-sizing: border-box;
            font-variant-numeric: tabular-nums;
            font-feature-settings: "tnum";
            /* Cloudy / Glassmorphism Box */
            background: var(--cloud-bg);
            backdrop-filter: blur(var(--cloud-blur));
            -webkit-backdrop-filter: blur(var(--cloud-blur));
            border-radius: 80px; /* Bubbly rounded corners */
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
        }

        #time-wrapper {
            display: flex;
            align-items: baseline;
            justify-content: center;
            color: #ffffff;
        }

        #time {
            font-size: 30vw;
            line-height: 0.9;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 10px 20px rgba(0,0,0,0.15);
            font-variant-numeric: tabular-nums;
            font-feature-settings: "tnum";
        }

        #seconds {
            font-size: 8vw;
            margin-left: 15px;
            font-weight: 400;
            color: #ffffff;
            font-variant-numeric: tabular-nums;
            font-feature-settings: "tnum";
            width: 2ch;
            text-align: left;
        }

        #date {
            font-size: 5vw;
            font-weight: 500;
            margin-top: 5px;
            text-transform: capitalize;
            letter-spacing: 1px;
            color: #ffffff;
            text-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        /* Shower Timer Styling */
        #stopwatch-wrapper {
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        #stopwatch-label {
            font-size: 3vw;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 5px;
            opacity: 0.9;
        }

        #stopwatch {
            font-size: 7vw;
            font-weight: 700;
            color: #ffffff;
            font-variant-numeric: tabular-nums;
            font-feature-settings: "tnum";
        }

        /* Hover/Tap bounce effect */
        #clock-container:active {
            transform: scale(0.95);
            transition: 0.2s;
        }

    </style>
</head>
<body>

    <div id="clock-container">
        <div id="time-wrapper">
            <div id="time">00:00</div>
            <div id="seconds">00</div>
        </div>
        <div id="date">Monday, Jan 01</div>

        <!-- Stopwatch for Shower Timing -->
        <div id="stopwatch-wrapper">
            <div id="stopwatch-label">Session Time</div>
            <div id="stopwatch">00:00</div>
        </div>
    </div>

    <script>
        // Record the time the app was opened
        const sessionStartTime = Date.now();

        function updateClock() {
            const now = new Date();
            
            // --- Main Clock Logic ---
            let h = now.getHours();
            let m = now.getMinutes();
            let s = now.getSeconds();
            
            h = h % 12 || 12; 
            m = m < 10 ? '0' + m : m;
            s = s < 10 ? '0' + s : s;
            
            document.getElementById('time').textContent = `${h}:${m}`;
            document.getElementById('seconds').textContent = s;

            const options = { weekday: 'long', month: 'short', day: 'numeric' };
            document.getElementById('date').textContent = now.toLocaleDateString('en-US', options);

            // --- Stopwatch / Shower Timer Logic ---
            const elapsedMs = Date.now() - sessionStartTime;
            const totalSeconds = Math.floor(elapsedMs / 1000);
            
            const stopM = Math.floor(totalSeconds / 60);
            const stopS = totalSeconds % 60;
            
            const displayM = stopM < 10 ? '0' + stopM : stopM;
            const displayS = stopS < 10 ? '0' + stopS : stopS;
            
            document.getElementById('stopwatch').textContent = `${displayM}:${displayS}`;
        }

        // Burn-in protection: slightly shifts the container every 60 seconds
        function protectScreen() {
            const container = document.getElementById('clock-container');
            const randomX = Math.floor(Math.random() * 30) - 15; 
            const randomY = Math.floor(Math.random() * 30) - 15;
            container.style.transform = `translate(${randomX}px, ${randomY}px)`;
        }

        setInterval(updateClock, 1000);
        setInterval(protectScreen, 60000); 
        updateClock();
        protectScreen();
    </script>
</body>
</html>
